# 3415_uno
Пример реализации игры UNO для 3415 группы.

## Правила игры

### Карты

[Все карты](https://uno.fandom.com/ru/wiki/%D0%9A%D0%B0%D1%80%D1%82%D1%8B)

* базовые карты:
  * 4 цвета (красный, зеленый, синий, желтый). Каждого цвета карты от 1 до 9 по 2 штуки и 1 штука 0.
* специальные карты:
  * стоп (цветная) - следующий игрок пропускает ход. Он может сыграть такую же карту стоп того же цвета.
  * реверс (цветная) - меняется направление игры.
  * +2 (цветная) - игрок берет 2 карты.
  * цвет (дикая карта) - играется на любую карту, игрок определяет какого цвета она станет.
  * цвет +4 (дикая карта) - может быть выложена игроком только в свой ход и только в том случае, если у игрока (игрок-1) отсутствует текущий цвет (причём текущая цифра/активные карты/чёрная активная карта «Закажи цвет» могут и присутствовать – это не важно, главное отсутствие текущего цвета). Одновременно с выкладыванием этой карты необходимо заказать цвет (может быть любой, в том числе и текущий цвет).
    * Игрок-2 может «спастись» от действия этой карты только выложив карту «Возьми две» нового заказанного цвета (далее всё идёт как обычно со стандартным действием карты «Возьми две»).  
    * Проверка на честность. Если игрок-2, на которого направлено действие «Закажи цвет и возьми четыре», подозревает, что его обманывают и у игрока-1, выложившего эту карту, на самом деле есть текущий цвет, он может попросить предъявить игрока-1 свои карты. Если подозрения обоснованы, игрок-1 забирает свою карту «Закажи цвет и возьми четыре» обратно в руку, берёт четыре карты из колоды «Прикуп» (в тёмную), пропускает ход (фактически на игрока-1 перешло действие карты «Закажи цвет и возьми четыре»). Если подозрения были напрасны, игрок-2 берёт полагающиеся ему четыре карты из колоды «Прикуп», а также ещё две карты за недоверие и пропускает ход.  

### Комплектность

* Карты 4 цветов (синий, желтый, красный, зеленый) с номерами от 0 до 9 (76 шт, по 2 на каждый цвет от 1 до 9, и один набор 0) — обычные карты. По 19 карт каждого цвета. Их называют - цифровые карты.
* 8 карт «+2», 8 карт «реверс», 8 карт «стоп» по 2 на каждый цвет — карты действия.
* 4 карты «Дикая карта», 4 карты «Дикая карта возьми четыре» на черном фоне.

### Раздача

* 2-10 игроков.
* Каждому игроку раздается 7 карт в закрытую.
* Из колоды берется одна карта и кладется в сброс в открытую (верхняя карта).

### Условие победы

У игрока нет карт.

### Правила игры

* Игроки ходят по очереди.
* В свой ход каждый игрок 
  * Кладет карту в игровую колоду, при этом карта должна совпадать с верхней картой в игровой колоде по цвету или по картинке. 
  * Если у игрока нет подходящей карты, то он берёт одну карту из колоды банка и, если карта подходит, может ей сделать ход, если хочет. 
  * Если игрок взял из колоды банка подходящую карту, но не сделал ей ход — он не получает никакого штрафа. 
  * Игрок может сделать ход картой на чёрном фоне независимо от того, какая карта лежит сейчас верхней в игровой колоде.
* Когда колода банка заканчивается, то верхняя карта игровой колоды снимается и начинает новую игровую колоду, а все карты игровой колоды перемешиваются и становятся новой колодой банка.

### Подсчет очков

* Очки за обычные карты равны номиналу карты (0 очков за карту с 0, 9 очков за карту с 9), 
* карты действия на цветном фоне — 20 очков, 
* карты действия на чёрном фоне — 50 очков. 
* Все очки игроков суммируются и записываются в пользу игрока, который первым закончил игру.
* Вариант игры в несколько раундов ведется до 500 очков.

## Пример текстового интерфейса игры

Играют Alex и Bob.

```
Top: g2
Alex: r3 y5 g4 g1
Alex: введите какую карту играем из руки: п4
Alex: такой карты нет в руке
Alex: введите какую карту играем из руки: g4
Alex: play g4
-----
Top: g4
Bob: y6 y2 r8
Bob: draw card
Bob: y6 y2 r8 g7
Bob: play g7
----
Top: g7
Alex: r3 y5 g1
Alex: play g1
----
Top: g1
Bob: y6 y2 r8
Bob: draw card
Bob: y6 y2 r8 b6
---
Top: g1
Alex: r3 y5
....
----
Alex WIN!
```

## Формат save-файла

```json
{
  "top": "g2",
  "deck": "g7 b6 y1 y0 r9",
  "current_player_index": 0,
  "players": [
    {
      "name": "Alex",
      "hand": "r3 y5 g4 g1",
      "is_human": true
    },
    {
      "name": "Bob",
      "hand": "y6 y2 r8",
      "is_human": false
    }
  ]
}
```